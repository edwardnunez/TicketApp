<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: frontend/src/pages/EditProfile.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: frontend/src/pages/EditProfile.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useState, useEffect } from "react";
import { Link, useNavigate } from "react-router-dom";
import { 
  Layout, 
  Typography, 
  Form, 
  Input, 
  Button, 
  Avatar, 
  message, 
  Radio, 
  Space, 
  Card,
  Divider,
  Tooltip,
  Skeleton,
  Alert,
  Modal,
  notification
} from "antd";
import { 
  UserOutlined, 
  MailOutlined, 
  LockOutlined, 
  SaveOutlined,
  ArrowLeftOutlined,
  EyeInvisibleOutlined,
  EyeTwoTone,
  SecurityScanOutlined,
  ExclamationCircleOutlined,
  CheckCircleOutlined
} from "@ant-design/icons";
import axios from "axios";

// Importamos el esquema de colores
import { COLORS } from "../components/colorscheme";

const { Content } = Layout;
const { Text } = Typography;

// Avatares predefinidos
const avatars = [
  "/avatars/avatar1.png",
  "/avatars/avatar2.png",
  "/avatars/avatar3.png",
  "/avatars/avatar4.png",
  "/avatars/avatar5.png",
  "/avatars/avatar6.png",
];

/**
 * Edit profile page component for user profile management
 * @returns {JSX.Element} Profile editing form with avatar selection and password change
 */
const EditProfile = () => {
  const [form] = Form.useForm();
  const [passwordForm] = Form.useForm();
  const [selectedAvatar, setSelectedAvatar] = useState(null);
  const [showAvatarSelection, setShowAvatarSelection] = useState(false);
  const [userData, setUserData] = useState({ name: "", surname: "", email: "", username: "" });
  const [userId, setUserId] = useState(null);
  const [loading, setLoading] = useState(true);
  const [passwordLoading, setPasswordLoading] = useState(false);
  const [profileError, setProfileError] = useState({});
  const [passwordError, setPasswordError] = useState({});
  
  // Estado para el modal de confirmación de contraseña
  const [showPasswordModal, setShowPasswordModal] = useState(false);
  const [pendingPasswordValues, setPendingPasswordValues] = useState(null);

  // Estado para el modal de confirmación de perfil
  const [showProfileModal, setShowProfileModal] = useState(false);
  const [pendingProfileValues, setPendingProfileValues] = useState(null);
  const [updatedFieldsList, setUpdatedFieldsList] = useState([]);

  const navigate = useNavigate();
  
  const gatewayUrl = process.env.REACT_APP_API_ENDPOINT || "http://localhost:8000";
  
  const username = localStorage.getItem("username");
  const token = localStorage.getItem("token");
  const [isMobile, setIsMobile] = useState(false);

  useEffect(() => {
    const handleResize = () => {
      setIsMobile(window.innerWidth &lt; 768);
    };
    handleResize();
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  // Validar formato de email
  const validateEmailFormat = (email) => {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  };

  // Función para mostrar notificación de éxito personalizada
  const showSuccessNotification = (title, description, duration = 4) => {
    notification.success({
      message: title,
      description: description,
      icon: &lt;CheckCircleOutlined style={{ color: COLORS.accent.green }} />,
      placement: 'topRight',
      duration: duration,
      style: {
        borderRadius: '8px',
        boxShadow: '0 4px 12px rgba(0,0,0,0.15)',
      }
    });
  };

  // Obtener datos del usuario al montar el componente
  useEffect(() => {
    if (username &amp;&amp; token) {
      setLoading(true);
      axios
        .get(gatewayUrl + `/users`)
        .then((res) => {
          const u = res.data.find((u) => u.username === username);
  
          if (u) {
            setUserData({
              name: u.name,
              surname: u.surname || "", // Incluir surname
              email: u.email,
              username: u.username,
            });
            setUserId(u._id);
            // Usar el avatar del usuario tal como está, sin asignar un valor por defecto
            // Si el usuario no tiene avatar (null), mantener null para que aparezca "Ninguno" seleccionado
            setSelectedAvatar(u.avatar ?? null);
          } else {
            message.error("Usuario no encontrado.");
          }
        })
        .catch((err) => {
          console.error("Error al obtener datos del usuario:", err);
          message.error("No se pudieron cargar los datos del usuario.");
        })
        .finally(() => {
          setLoading(false);
        });
    }
  }, [username, token, gatewayUrl]);

  // Manejar selección de avatar
  const handleAvatarChange = (e) => {
    setSelectedAvatar(e.target.value);
  };

  // Función para ejecutar la actualización del perfil
  const executeProfileUpdate = (values) => {
    setProfileError({});
    const updatedUser = { ...values, avatar: selectedAvatar };

    axios
      .put(gatewayUrl + `/edit-user/${userId}`, updatedUser, {
        headers: { Authorization: `Bearer ${token}` },
      })
      .then((res) => {
        // Mostrar notificación de éxito detallada
        const fieldsText = updatedFieldsList.length > 0 
          ? `Se han actualizado: ${updatedFieldsList.join(', ')}.`
          : 'Perfil actualizado correctamente.';
        
        showSuccessNotification(
          '¡Perfil actualizado!',
          fieldsText + ' Los cambios se han guardado exitosamente.',
          5
        );

        if (values.username &amp;&amp; values.username !== username) {
          localStorage.setItem("username", values.username);
        }

        setUserData({
          name: values.name,
          surname: values.surname,
          email: values.email,
          username: values.username,
        });

        setShowProfileModal(false);
        setPendingProfileValues(null);
        setUpdatedFieldsList([]);

        setTimeout(() => {
          navigate("/profile");
        }, 1500);
      })
      .catch((err) => {
        console.error("Error al actualizar el perfil:", err);
        
        if (err.response?.data) {
          const { error: errorMessage, field } = err.response.data;
          setProfileError({ 
            field: field || "general", 
            message: errorMessage || "No se pudo actualizar el perfil." 
          });
        } else {
          message.error("No se pudo actualizar el perfil.");
        }

        // Cerrar modal en caso de error
        setShowProfileModal(false);
        setPendingProfileValues(null);
        setUpdatedFieldsList([]);
      });
  };

  // Manejar actualización de perfil (con confirmación)
  const handleProfileSubmit = (values) => {
    // Determinar qué campos se han actualizado
    const updatedFields = [];
    if (values.username !== userData.username) updatedFields.push('nombre de usuario');
    if (values.name !== userData.name) updatedFields.push('nombre');
    if (values.surname !== userData.surname) updatedFields.push('apellido');
    if (values.email !== userData.email) updatedFields.push('email');
    if (selectedAvatar !== userData.avatar) updatedFields.push('avatar');

    // Guardar los valores pendientes y mostrar modal
    setPendingProfileValues(values);
    setUpdatedFieldsList(updatedFields);
    setShowProfileModal(true);
  };

  // Confirmar cambios de perfil
  const handleConfirmProfileUpdate = () => {
    if (pendingProfileValues) {
      executeProfileUpdate(pendingProfileValues);
    }
  };

  // Cancelar cambios de perfil
  const handleCancelProfileUpdate = () => {
    setShowProfileModal(false);
    setPendingProfileValues(null);
    setUpdatedFieldsList([]);
  };

  const executePasswordChange = (values) => {
    setPasswordError({});
    setPasswordLoading(true);
    
    const passwordData = {
      currentPassword: values.currentPassword,
      password: values.newPassword
    };

    axios
      .put(gatewayUrl + `/edit-user/${userId}`, passwordData, {
        headers: { Authorization: `Bearer ${token}` },
      })
      .then((res) => {
        // Mostrar notificación de éxito para contraseña
        showSuccessNotification(
          '¡Contraseña actualizada!',
          'Tu contraseña se ha cambiado correctamente. Tu cuenta está ahora más segura.',
          6
        );
        
        passwordForm.resetFields();
        setShowPasswordModal(false);
        setPendingPasswordValues(null);

        // Redirigir a perfil después de un breve delay
        setTimeout(() => {
          navigate("/profile");
        }, 1500);
      })
      .catch((err) => {
        console.error("Error al actualizar la contraseña:", err);
        
        if (err.response?.data) {
          const { error: errorMessage, field } = err.response.data;
          setPasswordError({ 
            field: field || "general", 
            message: errorMessage || "No se pudo actualizar la contraseña." 
          });
        } else {
          setPasswordError({ 
            field: "general", 
            message: "No se pudo actualizar la contraseña." 
          });
        }

        // Cerrar modal en caso de error
        setShowPasswordModal(false);
        setPendingPasswordValues(null);
      })
      .finally(() => {
        setPasswordLoading(false);
      });
  };
  
  // Manejar cambio de contraseña con confirmación
  const handlePasswordSubmit = (values) => {
    setPendingPasswordValues(values);
    setShowPasswordModal(true);
  };

  // Confirmar cambio de contraseña
  const handleConfirmPasswordChange = () => {
    if (pendingPasswordValues) {
      executePasswordChange(pendingPasswordValues);
    }
  };

  // Cancelar cambio de contraseña
  const handleCancelPasswordChange = () => {
    setShowPasswordModal(false);
    setPendingPasswordValues(null);
  };

  return (
    &lt;Layout style={{ backgroundColor: COLORS.neutral.grey1, minHeight: "100vh" }}>
      &lt;Content style={{ padding: isMobile ? "18px 4px" : "40px 20px" }}>
        &lt;div style={{ maxWidth: isMobile ? "100%" : "700px", margin: "0 auto" }}>
          {loading ? (
            &lt;Card 
              style={{ 
                borderRadius: "12px", 
                boxShadow: "0 4px 12px rgba(0,0,0,0.08)",
                border: "none"
              }}
            >
              &lt;Skeleton active avatar={{ size: 100, shape: "circle" }} paragraph={{ rows: 4 }} />
            &lt;/Card>
          ) : (
            &lt;Space direction="vertical" size={24} style={{ width: "100%" }}>
              {/* Card principal del perfil */}
              &lt;Card
                title={
                  &lt;div style={{ display: "flex", alignItems: "center" }}>
                    &lt;Tooltip title="Volver al Perfil">
                      &lt;Link to="/profile" style={{ color: COLORS.neutral.darker, marginRight: "12px" }}>
                        &lt;ArrowLeftOutlined />
                      &lt;/Link>
                    &lt;/Tooltip>
                    &lt;span style={{ color: COLORS.neutral.darker }}>Editar perfil&lt;/span>
                  &lt;/div>
                }
                style={{
                  borderRadius: "12px",
                  boxShadow: "0 4px 12px rgba(0,0,0,0.08)",
                  border: "none",
                }}
              >
                &lt;div style={{ display: "flex", flexDirection: "column", alignItems: "center" }}>
                  {/* Sección de Avatar */}
                  &lt;div style={{ textAlign: "center", marginBottom: "24px" }}>
                    &lt;Avatar
                      size={100}
                      src={selectedAvatar}
                      icon={!selectedAvatar &amp;&amp; &lt;UserOutlined />}
                      style={{
                        border: `2px solid ${COLORS.primary.light}`,
                        boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
                        backgroundColor: !selectedAvatar ? COLORS.primary.light : undefined
                      }}
                    />
                    &lt;br />
                    &lt;Button
                      type="link"
                      onClick={() => setShowAvatarSelection(!showAvatarSelection)}
                      style={{ color: COLORS.primary.main, marginTop: "8px" }}
                    >
                      {showAvatarSelection ? "Ocultar Avatares" : "Elegir un Avatar"}
                    &lt;/Button>
                  &lt;/div>

                  {/* Selección de Avatar */}
                  {showAvatarSelection &amp;&amp; (
                    &lt;div style={{ textAlign: "center", marginBottom: "24px" }}>
                      &lt;Radio.Group value={selectedAvatar} onChange={handleAvatarChange}>
                        &lt;Space size={12} wrap>
                          {/* Opción "Ninguno" */}
                          &lt;Radio value={null} style={{ display: "flex", flexDirection: "column", alignItems: "center" }}>
                            &lt;Avatar
                              size={60}
                              icon={&lt;UserOutlined />}
                              style={{
                                border: !selectedAvatar ? `2px solid ${COLORS.primary.main}` : "1px solid " + COLORS.neutral.grey3,
                                boxShadow: !selectedAvatar ? `0 0 0 2px ${COLORS.primary.light}` : "none",
                                transition: "all 0.2s ease",
                                backgroundColor: COLORS.primary.light
                              }}
                            />
                          &lt;/Radio>

                          {avatars.map((avatar, index) => (
                            &lt;Radio key={index} value={avatar} style={{ display: "flex", flexDirection: "column", alignItems: "center" }}>
                              &lt;Avatar
                                size={60}
                                src={avatar}
                                alt={`Avatar predefinido ${index + 1}`}
                                style={{
                                  border: selectedAvatar === avatar ? `2px solid ${COLORS.primary.main}` : "1px solid " + COLORS.neutral.grey3,
                                  boxShadow: selectedAvatar === avatar ? `0 0 0 2px ${COLORS.primary.light}` : "none",
                                  transition: "all 0.2s ease"
                                }}
                              />
                            &lt;/Radio>
                          ))}
                        &lt;/Space>
                      &lt;/Radio.Group>
                    &lt;/div>
                  )}
                  
                  &lt;Divider style={{ margin: "0 0 24px" }} />

                  {/* Formulario de edición de perfil */}
                  &lt;Form 
                    layout="vertical" 
                    form={form} 
                    onFinish={handleProfileSubmit} 
                    initialValues={userData}
                    style={{ width: "100%", maxWidth: "400px" }}
                  >
                    &lt;Form.Item
                      name="username"
                      label={&lt;Text style={{ color: COLORS.neutral.dark }}>Nombre de usuario&lt;/Text>}
                      initialValue={userData.username}
                      rules={[{ required: true, message: "¡Por favor, introduce tu nombre de usuario!" }]}
                      validateStatus={profileError.field === "username" ? "error" : ""}
                      help={profileError.field === "username" ? profileError.message : ""}
                    >
                      &lt;Input 
                        prefix={&lt;UserOutlined style={{ color: COLORS.neutral.grey4 }} />} 
                        placeholder={userData.username}
                        style={{ borderRadius: "6px" }}
                      />
                    &lt;/Form.Item>

                    &lt;Form.Item
                      name="name"
                      label={&lt;Text style={{ color: COLORS.neutral.dark }}>Nombre&lt;/Text>}
                      initialValue={userData.name}
                      rules={[{ required: true, message: "¡Por favor, introduce tu nombre!" }]}
                    >
                      &lt;Input 
                        prefix={&lt;UserOutlined style={{ color: COLORS.neutral.grey4 }} />} 
                        placeholder={userData.name} 
                        style={{ borderRadius: "6px" }}
                      />
                    &lt;/Form.Item>

                    {/* NUEVO CAMPO: Apellido */}
                    &lt;Form.Item
                      name="surname"
                      label={&lt;Text style={{ color: COLORS.neutral.dark }}>Apellido&lt;/Text>}
                      initialValue={userData.surname}
                      rules={[{ required: false }]}
                    >
                      &lt;Input 
                        prefix={&lt;UserOutlined style={{ color: COLORS.neutral.grey4 }} />} 
                        placeholder={userData.surname || "Introduce tu apellido"} 
                        style={{ borderRadius: "6px" }}
                      />
                    &lt;/Form.Item>

                    &lt;Form.Item
                      name="email"
                      label={&lt;Text style={{ color: COLORS.neutral.dark }}>Correo electrónico&lt;/Text>}
                      initialValue={userData.email}
                      rules={[
                        { required: true, message: "Por favor ingresa tu email" },
                        {
                          validator: (_, value) => {
                            if (!value || validateEmailFormat(value)) {
                              return Promise.resolve();
                            }
                            return Promise.reject(new Error('Por favor ingresa un email válido'));
                          },
                        }
                      ]}
                      validateStatus={profileError.field === "email" ? "error" : ""}
                      help={profileError.field === "email" ? profileError.message : ""}
                    >
                      &lt;Input 
                        prefix={&lt;MailOutlined style={{ color: COLORS.neutral.grey4 }} />} 
                        placeholder={userData.email} 
                        style={{ borderRadius: "6px" }}
                      />
                    &lt;/Form.Item>

                    {profileError.field === "general" &amp;&amp; (
                      &lt;Alert
                        message="Error"
                        description={profileError.message}
                        type="error"
                        showIcon
                        style={{ marginBottom: "16px" }}
                      />
                    )}

                    &lt;Form.Item style={{ marginTop: "24px" }}>
                      &lt;Space>
                        &lt;Link to="/profile">
                          &lt;Button 
                            style={{ 
                              borderRadius: "6px",
                              boxShadow: "0 2px 0 rgba(0, 0, 0, 0.045)"
                            }}
                          >
                            Cancelar
                          &lt;/Button>
                        &lt;/Link>
                        &lt;Button 
                          type="primary" 
                          htmlType="submit" 
                          icon={&lt;SaveOutlined />}
                          style={{ 
                            backgroundColor: COLORS.primary.main,
                            borderColor: COLORS.primary.main,
                            borderRadius: "6px",
                            boxShadow: "0 2px 0 rgba(0, 0, 0, 0.045)"
                          }}
                        >
                          Guardar cambios
                        &lt;/Button>
                      &lt;/Space>
                    &lt;/Form.Item>
                  &lt;/Form>
                &lt;/div>
              &lt;/Card>

              &lt;Card
                title={
                  &lt;div style={{ display: "flex", alignItems: "center" }}>
                    &lt;SecurityScanOutlined style={{ color: COLORS.accent.gold, marginRight: "8px" }} />
                    &lt;span style={{ color: COLORS.neutral.grey800 }}>Cambiar contraseña&lt;/span>
                  &lt;/div>
                }
                style={{
                  borderRadius: "12px",
                  boxShadow: "0 4px 12px rgba(0,0,0,0.08)",
                  border: "none",
                }}
              >
                &lt;Alert
                  message="Seguridad de la contraseña"
                  description="Tu contraseña debe tener al menos 8 caracteres, incluir al menos una letra mayúscula y un número."
                  type="info"
                  showIcon
                  style={{ marginBottom: "24px" }}
                />

                &lt;Form 
                  layout="vertical" 
                  form={passwordForm} 
                  onFinish={handlePasswordSubmit}
                  style={{ maxWidth: "400px", margin: "0 auto" }}
                >
                  &lt;Form.Item
                    name="currentPassword"
                    label={&lt;Text style={{ color: COLORS.neutral.dark }}>Contraseña actual&lt;/Text>}
                    rules={[{ required: true, message: "¡Introduce tu contraseña actual!" }]}
                    validateStatus={passwordError.field === "currentPassword" ? "error" : ""}
                    help={passwordError.field === "currentPassword" ? passwordError.message : ""}
                  >
                    &lt;Input.Password 
                      prefix={&lt;LockOutlined style={{ color: COLORS.neutral.grey4 }} />} 
                      placeholder="Contraseña actual" 
                      style={{ borderRadius: "6px" }}
                      iconRender={(visible) => (visible ? &lt;EyeTwoTone /> : &lt;EyeInvisibleOutlined />)}
                    />
                  &lt;/Form.Item>

                  &lt;Form.Item
                    name="newPassword"
                    label={&lt;Text style={{ color: COLORS.neutral.dark }}>Nueva contraseña&lt;/Text>}
                    rules={[
                      { required: true, message: "¡Introduce la nueva contraseña!" },
                      {
                        pattern: /^(?=.*[A-Z])(?=.*\d).{8,}$/,
                        message: "La contraseña debe tener al menos 8 caracteres, una letra mayúscula y un número",
                      }
                    ]}
                    validateStatus={passwordError.field === "password" ? "error" : ""}
                    help={passwordError.field === "password" ? passwordError.message : ""}
                  >
                    &lt;Input.Password 
                      prefix={&lt;LockOutlined style={{ color: COLORS.neutral.grey4 }} />} 
                      placeholder="Nueva contraseña" 
                      style={{ borderRadius: "6px" }}
                      iconRender={(visible) => (visible ? &lt;EyeTwoTone /> : &lt;EyeInvisibleOutlined />)}
                    />
                  &lt;/Form.Item>

                  &lt;Form.Item
                    name="confirmNewPassword"
                    label={&lt;Text style={{ color: COLORS.neutral.dark }}>Confirmar nueva contraseña&lt;/Text>}
                    dependencies={['newPassword']}
                    rules={[
                      { required: true, message: "¡Confirma la nueva contraseña!" },
                      ({ getFieldValue }) => ({
                        validator(_, value) {
                          if (!value || getFieldValue('newPassword') === value) {
                            return Promise.resolve();
                          }
                          return Promise.reject(new Error('Las contraseñas no coinciden'));
                        },
                      }),
                    ]}
                  >
                    &lt;Input.Password 
                      prefix={&lt;LockOutlined style={{ color: COLORS.neutral.grey4 }} />} 
                      placeholder="Confirmar nueva contraseña" 
                      style={{ borderRadius: "6px" }}
                      iconRender={(visible) => (visible ? &lt;EyeTwoTone /> : &lt;EyeInvisibleOutlined />)}
                    />
                  &lt;/Form.Item>

                  {passwordError.field === "general" &amp;&amp; (
                    &lt;Alert
                      message="Error"
                      description={passwordError.message}
                      type="error"
                      showIcon
                      style={{ marginBottom: "16px" }}
                    />
                  )}

                  &lt;Form.Item>
                    &lt;Button 
                      type="primary" 
                      htmlType="submit" 
                      loading={passwordLoading}
                      icon={&lt;LockOutlined />}
                      block
                      style={{ 
                        backgroundColor: COLORS.accent.gold,
                        borderColor: COLORS.accent.gold,
                        borderRadius: "6px",
                        height: "44px"
                      }}
                    >
                      Cambiar contraseña
                    &lt;/Button>
                  &lt;/Form.Item>
                &lt;/Form>
              &lt;/Card>
            &lt;/Space>
          )}

          {/* Modal de confirmación de cambios de perfil */}
          &lt;Modal
            title={
              &lt;div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                &lt;CheckCircleOutlined style={{ color: COLORS.primary.main }} />
                &lt;span>¿Confirmar los cambios en tu perfil?&lt;/span>
              &lt;/div>
            }
            open={showProfileModal}
            onOk={handleConfirmProfileUpdate}
            onCancel={handleCancelProfileUpdate}
            okText="Sí, guardar cambios"
            cancelText="Cancelar"
            okType="primary"
            okButtonProps={{
              style: {
                backgroundColor: COLORS.primary.main,
                borderColor: COLORS.primary.main,
              }
            }}
            cancelButtonProps={{
              style: {
                borderColor: COLORS.neutral.grey3,
                color: COLORS.neutral.dark,
              }
            }}
            centered
            maskClosable={false}
            width={480}
          >
            &lt;div style={{ marginTop: '16px' }}>
              &lt;Text style={{ color: COLORS.neutral.dark }}>
                {updatedFieldsList.length > 0 ? (
                  &lt;>
                    Se actualizarán los siguientes campos: &lt;strong>{updatedFieldsList.join(', ')}&lt;/strong>.
                  &lt;/>
                ) : (
                  'Se guardará la información de tu perfil.'
                )}
              &lt;/Text>
              &lt;br />
              &lt;br />
              &lt;Text style={{ color: COLORS.neutral.grey4, fontSize: '14px' }}>
                Una vez confirmado, serás redirigido a tu perfil para ver los cambios.
              &lt;/Text>
            &lt;/div>
          &lt;/Modal>

          {/* Modal de confirmación de cambio de contraseña */}
          &lt;Modal
            title={
              &lt;div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                &lt;ExclamationCircleOutlined style={{ color: COLORS.accent.gold }} />
                &lt;span>¿Estás seguro de que quieres cambiar tu contraseña?&lt;/span>
              &lt;/div>
            }
            open={showPasswordModal}
            onOk={handleConfirmPasswordChange}
            onCancel={handleCancelPasswordChange}
            okText="Sí, cambiar contraseña"
            cancelText="Cancelar"
            okType="primary"
            confirmLoading={passwordLoading}
            okButtonProps={{
              style: {
                backgroundColor: COLORS.accent.gold,
                borderColor: COLORS.accent.gold,
              }
            }}
            cancelButtonProps={{
              style: {
                borderColor: COLORS.neutral.grey3,
                color: COLORS.neutral.dark,
              }
            }}
            centered
            maskClosable={false}
            width={480}
          >
            &lt;div style={{ marginTop: '16px' }}>
              &lt;Text style={{ color: COLORS.neutral.dark }}>
                Esta acción cambiará tu contraseña actual. Asegúrate de recordar la nueva contraseña.
              &lt;/Text>
              &lt;br />
              &lt;br />
              &lt;Text style={{ color: COLORS.neutral.grey4, fontSize: '14px' }}>
                Se cerrará tu sesión automáticamente en otros dispositivos por seguridad.
              &lt;/Text>
            &lt;/div>
          &lt;/Modal>
        &lt;/div>
      &lt;/Content>
    &lt;/Layout>
  );
};

export default EditProfile;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-components_colorscheme.html">components/colorscheme</a></li><li><a href="module-models_Event.html">models/Event</a></li><li><a href="module-models_Location.html">models/Location</a></li><li><a href="module-models_SeatMap.html">models/SeatMap</a></li><li><a href="module-models_Ticket.html">models/Ticket</a></li><li><a href="module-models_User.html">models/User</a></li><li><a href="module-services_UserService.html">services/UserService</a></li><li><a href="module-utils_api.html">utils/api</a></li><li><a href="module-utils_authSession.html">utils/authSession</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AboutUs">AboutUs</a></li><li><a href="global.html#AdminDashboard">AdminDashboard</a></li><li><a href="global.html#AdminStatistics">AdminStatistics</a></li><li><a href="global.html#App">App</a></li><li><a href="global.html#BlockingViewSwitcher">BlockingViewSwitcher</a></li><li><a href="global.html#EditProfile">EditProfile</a></li><li><a href="global.html#EditableSeatRenderer">EditableSeatRenderer</a></li><li><a href="global.html#ErrorPage">ErrorPage</a></li><li><a href="global.html#EventCreation">EventCreation</a></li><li><a href="global.html#EventDetails">EventDetails</a></li><li><a href="global.html#FramedImage">FramedImage</a></li><li><a href="global.html#GeneralAdmissionRenderer">GeneralAdmissionRenderer</a></li><li><a href="global.html#GenericSeatRenderer">GenericSeatRenderer</a></li><li><a href="global.html#HelpCenter">HelpCenter</a></li><li><a href="global.html#Home">Home</a></li><li><a href="global.html#Login">Login</a></li><li><a href="global.html#ManualBlockingSelection">ManualBlockingSelection</a></li><li><a href="global.html#ManualSeatSelection">ManualSeatSelection</a></li><li><a href="global.html#Profile">Profile</a></li><li><a href="global.html#Register">Register</a></li><li><a href="global.html#RowPricingTable">RowPricingTable</a></li><li><a href="global.html#SeatMapContainer">SeatMapContainer</a></li><li><a href="global.html#SeatRenderer">SeatRenderer</a></li><li><a href="global.html#SeatSelectionViewSwitcher">SeatSelectionViewSwitcher</a></li><li><a href="global.html#SectionShapeRenderer">SectionShapeRenderer</a></li><li><a href="global.html#SelectionTopBar">SelectionTopBar</a></li><li><a href="global.html#TicketPurchase">TicketPurchase</a></li><li><a href="global.html#VenueStageRenderer">VenueStageRenderer</a></li><li><a href="global.html#ZoomControls">ZoomControls</a></li><li><a href="global.html#enviarEmailConfirmacionCompra">enviarEmailConfirmacionCompra</a></li><li><a href="global.html#generateTicketNumber">generateTicketNumber</a></li><li><a href="global.html#generateToken">generateToken</a></li><li><a href="global.html#generateValidationCode">generateValidationCode</a></li><li><a href="global.html#returnError">returnError</a></li><li><a href="global.html#tokens">tokens</a></li><li><a href="global.html#transporter">transporter</a></li><li><a href="global.html#useAdvancedZoomPan">useAdvancedZoomPan</a></li><li><a href="global.html#useDeviceDetection">useDeviceDetection</a></li><li><a href="global.html#useUserRole">useUserRole</a></li><li><a href="global.html#verifyAdmin">verifyAdmin</a></li><li><a href="global.html#verifyAuthenticated">verifyAuthenticated</a></li><li><a href="global.html#verifyOwnership">verifyOwnership</a></li><li><a href="global.html#verifyPayPalPayment">verifyPayPalPayment</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Wed Nov 12 2025 23:25:44 GMT+0100 (hora estándar de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
